# Directus Keep-Alive Service

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π ping-—Å–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ Directus –Ω–∞ Render.

## üéØ –ß—Ç–æ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub Actions –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –≤–∞—à–µ–º—É Directus —Å–µ—Ä–≤–µ—Ä—É –Ω–∞ Render, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –µ–≥–æ "–∑–∞—Å—ã–ø–∞–Ω–∏–µ" –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º —Ç–∞—Ä–∏—Ñ–µ.

## üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –≤–∞—à–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:
```
ping_directus/
‚îú‚îÄ‚îÄ .github/
‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ       ‚îî‚îÄ‚îÄ ping.yml
‚îú‚îÄ‚îÄ ping.js
‚îî‚îÄ‚îÄ README.md
```

### 2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤ GitHub

```bash
git add .
git commit -m "Add Directus keep-alive service"
git push origin main
```

### 3. –í–∫–ª—é—á–∏—Ç–µ GitHub Actions

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É **Actions**
3. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –∑–∞–ø—É—Å–∫ workflows
4. Workflow –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É **Actions** –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –í—ã —É–≤–∏–¥–∏—Ç–µ –∑–∞–ø—É—Å–∫–∏ workflow "Keep Directus Alive"
- –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "Run workflow"

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã ping

–í —Ñ–∞–π–ª–µ [.github/workflows/ping.yml](.github/workflows/ping.yml) –∏–∑–º–µ–Ω–∏—Ç–µ cron-—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ:

```yaml
schedule:
  # –ö–∞–∂–¥—ã–µ 10 –º–∏–Ω—É—Ç
  - cron: '*/10 * * * *'
  
  # –ö–∞–∂–¥—ã–µ 14 –º–∏–Ω—É—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Render)
  - cron: '*/14 * * * *'
  
  # –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
  - cron: '*/5 * * * *'
```

**–í–∞–∂–Ω–æ:** Render —É—Å—ã–ø–ª—è–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ—Å–ª–µ 15 –º–∏–Ω—É—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è ping –∫–∞–∂–¥—ã–µ 10-14 –º–∏–Ω—É—Ç.

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ URL

–ï—Å–ª–∏ URL –≤–∞—à–µ–≥–æ Directus –∏–∑–º–µ–Ω–∏–ª—Å—è, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª [ping.js](ping.js):

```javascript
const DIRECTUS_URL = 'https://–≤–∞—à-–¥–æ–º–µ–Ω.onrender.com/server/health';
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å—Ç–∞—Ç—É—Å ping –≤ —Ä–∞–∑–¥–µ–ª–µ Actions –≤–∞—à–µ–≥–æ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
- ‚úÖ –ó–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞ = —É—Å–ø–µ—à–Ω—ã–π ping
- ‚ùå –ö—Ä–∞—Å–Ω—ã–π –∫—Ä–µ—Å—Ç–∏–∫ = –æ—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

–ï—Å–ª–∏ GitHub Actions –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:

1. **UptimeRobot** (https://uptimerobot.com) - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
2. **Cron-job.org** (https://cron-job.org) - –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ cron –∑–∞–¥–∞—á–∏
3. **Better Stack** (https://betterstack.com) - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## üîó –°—Å—ã–ª–∫–∏

- Directus Health Endpoint: https://smysl-bakery-directus.onrender.com/server/health
- GitHub Actions Documentation: https://docs.github.com/en/actions
